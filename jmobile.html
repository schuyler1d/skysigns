<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"> 
      <meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>jQuery Mobile Framework - Persistent footer B</title> 
	<link rel="stylesheet"  href="jquery-mobile/jquery.mobile.css" />  
	<link rel="stylesheet"  href="style/style.css" />  
	<script src="js/jquery.min.js"></script> 
	<!--script src="js/phonegap-1.0.0.js"></script--> 
	<script src="js/skystore.js"></script> 
	<script src="js/canvg.js"></script> 
	<script src="js/svg2canvas.js"></script> 
	<script src="js/skysign.js"></script> 
        <script>
          jQuery(document).bind('mobileinit',function() {
              $('#signdisplay').live('pagebeforecreate',function(event,ui){
                  console.log(this);
                  console.log(event);
                  console.log(ui);
              });
          });
        </script>
	<script src="jquery-mobile/jquery.mobile.js"></script> 
	<script src="jquery-mobile/scrollview/jquery.mobile.scrollview.js"></script> 
  </head>
  <body>
    <!-- do not put @ID here or we lose state! -->
    <div data-role="page" class="type-interior"> 
      <div data-role="header" data-position="fixed" style="background-color:white;"> 
        <div data-role="navbar"> 
          <ul> 
            <li><a href="#errorpage" data-rel="dialog">error</a></li> 
            <li><a href="jmobile.html" class="ui-btn-active ui-state-persist">Word Search</a></li> 
            <li><a href="footer-persist-b.html">Sign Search</a></li> 
            <li><a href="footer-persist-c.html">Add Sign</a></li> 
          </ul> 
        </div><!-- /navbar --> 

        <div class="">
          <div id="header-wordsearch">
            <div id="" data-role="fieldcontain" style="padding:0px;">
              <form name="wordsearch" id="wordsearch" class="ui-bar-c" role="search"
                    data-role="none" data-ajax="false">
                <input type="search" id="q" name="q" />
              </form>
            </div>
          </div>
        </div>
        <!--h1>Albums</h1> 
        <a href="../../" data-icon="home" data-iconpos="notext" data-direction="reverse" class="ui-btn-right jqm-home">Home</a--> 
      </div> <!--header-->
	
      <div data-role="content"> 
        <div class="content-secondary"> 
          <ul id="results" data-role="listview" data-inset="true" 
              class="ui-scrolllistview"> 
            <li><a href="#signdisplay" data-rel="dialog">sign display</a></li> 
            <li><a href="#" onclick="$('#text').text('hello');$.mobile.changePage( '#signdisplay', {} );console.log(this);">foo</a></li> 
          </ul> 
          
          
          
        </div><!--/content-secondard -->		
      </div><!-- /content search --> 
    </div><!-- /page search --> 

    <div id="signdisplay" data-role="dialog"> 
      <div data-role="header" data-theme="d"> 
        <h2 id="terms" style="text-overflow:inherit;white-space:normal;"></h2> 
      </div> 
      <div data-role="content" style="background-color:white;"> 
        <div id="text"></div>
        <canvas id="canvas" width="300" height="300"></canvas>
      </div> <!-- /content signdisplay -->
    </div><!-- /page signdisplay -->

    <div id="errorpage" data-role="dialog"> 
      <div data-role="header" data-theme="d"> 
        <h1>Alert</h1> 
      </div> 
      <ul id="error" data-role="listview" data-inset="true">
        <li id="dicttest" class="loadaction"><button>Load Dictionary</button>
          <div class="progress"><div class="bar"></div></div>
	  <div class="msg">not loaded</div>
	</li>
        <li id="signstest" class="loadaction"><button>Load Signs</button>
          <div class="progress"><div class="bar"></div></div>
	  <div class="msg">not loaded</div>
	</li>
        <li id="pathstest" class="loadaction"><button>Load Paths</button>
          <div class="progress"><div class="bar"></div></div>
	  <div class="msg">not loaded</div>
	</li>
        <li id="ajaxtest"><button>text remote ajax</button></li>
        <li id="canvastest"><button>test canvas</button>
	  <div class="msg"></div>
	</li>
      </ul>
    </div>
    <script>
      window.initSkyS = function() {
	    jQuery('#error').append('<li>deviceready orig?:'+window.openDatabase_orig+'</li>');
      window.si.init(window.ss,window.sd,{
          base_path:'',
          storage:{
              paths:'sql',
              shapes:'sql'
          },
          viewer:CanvgViewer,
          loadpaths:true
      });
      }
      if (window.PhoneGap) {
	  //is not currently working.  why not?
	  PhoneGap.onDeviceReady.subscribeOnce(window.initSkyS);
      } else {
	  initSkyS();
      }
      jQuery(window).bind('load',function() {
         $('#q').focus();
      });
      jQuery('.type-interior').bind('pageshow',function() {
         $('#q').select();
      });
    </script>              
    <!--script async src="http://debug.phonegap.com/target/target-script-min.js#sksky"></script-->
  </body>
</html>
